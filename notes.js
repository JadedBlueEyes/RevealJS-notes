/* revealjs-notes v1.0.0 Â©2019 Joel Ellis */var e=function(){var e=null;function t(t){if(!e||e.closed){if(!t){var a=document.querySelector('script[src$="notes.js"]').src;t=(a=a.replace(/notes\.js(\?.*)?$/,""))+"notes.html"}var n;(e=window.open(t,"reveal.js - Notes","width=1100,height=700"))?(n=setInterval(function(){e.postMessage(JSON.stringify({namespace:"reveal-notes",type:"connect",url:window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,state:Reveal.getState()}),"*")},500),window.addEventListener("message",function(t){var a,r,o,i,l=JSON.parse(t.data);l&&"reveal-notes"===l.namespace&&"connected"===l.type&&(clearInterval(n),Reveal.addEventListener("slidechanged",s),Reveal.addEventListener("fragmentshown",s),Reveal.addEventListener("fragmenthidden",s),Reveal.addEventListener("overviewhidden",s),Reveal.addEventListener("overviewshown",s),Reveal.addEventListener("paused",s),Reveal.addEventListener("resumed",s),s()),l&&"reveal-notes"===l.namespace&&"call"===l.type&&(a=l.methodName,r=l.arguments,o=l.callId,i=Reveal[a].apply(Reveal,r),e.postMessage(JSON.stringify({namespace:"reveal-notes",type:"return",result:i,callId:o}),"*"))})):alert("Speaker view popup failed to open. Please make sure popups are allowed and reopen the speaker view.")}else e.focus();function s(){var t=Reveal.getCurrentSlide(),a=t.querySelector("aside.notes"),n=t.querySelector(".current-fragment"),s={namespace:"reveal-notes",type:"state",notes:"",markdown:!1,whitespace:"normal",state:Reveal.getState()};if(t.hasAttribute("data-notes")&&(s.notes=t.getAttribute("data-notes"),s.whitespace="pre-wrap"),n){var r=n.querySelector("aside.notes");r?a=r:n.hasAttribute("data-notes")&&(s.notes=n.getAttribute("data-notes"),s.whitespace="pre-wrap",a=null)}a&&(s.notes=a.innerHTML,s.markdown="string"==typeof a.getAttribute("data-markdown")),e.postMessage(JSON.stringify(s),"*")}}return{init:function(){/receiver/i.test(window.location.search)||(null!==window.location.search.match(/(\?|\&)notes/gi)&&t(),Reveal.addKeyBinding({keyCode:83,key:"S",description:"Speaker notes view"},function(){t()}))},open:t}}();Reveal.registerPlugin("notes",e);